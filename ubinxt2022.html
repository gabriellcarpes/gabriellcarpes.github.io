<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Ubsifot Next 2021 - Level Design Challenge</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">
				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html">Home</a></li>
							<li class="active"><a href="ubinxt2022.html">Ubisoft NXT 2021</a></li>
							<li><a href="hourofyokai.html">Hour of Yokai</a></li>
							<li><a href="demakehotlinemiami.html">Game Demake: Hotline Miami</a></li>
							<li><a href="resume.html">Resume</a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">
						<!-- Post -->
							<section class="post">
								<header class="major">
									<h1>Level Design Challenge</h1>
									<p>I was tasked with creating the 2D map for a 3rd person Stealth Game<br />
									I then assembled the level on a playable blockmesh using Unreal Engine 5<br /></p>
								</header>
								<div class="image main"><img src="images/Mission_Snapshot.png" alt="Playable Blockmesh Screenshot" /></div>
								<header>
									<h2>The Brief for the 2D map</h2>
								</header>
								<p>As part of their design brief, Ubisoft gave us the following instructions on what the 2D map should contain:</p>
								<ul>
									<li>A minimum of three objectives</li>
									<li>We were allowed to gate the progress throughout the level</li>
									<li>Objectives must be realistic within the chosen theme</li>
								</ul>
								<p>Overall the challenge was pretty open in terms of what we could create. 
									They also provided us with a Master Feature List of obstacles, interactable elements, and an AI archetype. 
									We should use as many of those on the level as we felt was required.</p>
								
								<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
									<li class="nav-item" role="presentation">
										<!-- 2d map process button -->
									  <button class="nav-link active" id="pills-process-tab" data-bs-toggle="pill" data-bs-target="#pills-process" type="button" role="tab" aria-controls="pills-process" aria-selected="true">
											<h3 id="designprocess">The process</h3>
									  </button>
									</li>
									<!-- Playable Blockmesh button -->
									<li class="nav-item" role="presentation">
									  <button class="nav-link" id="pills-blockmesh-tab" data-bs-toggle="pill" data-bs-target="#pills-blockmesh" type="button" role="tab" aria-controls="pills-blockmesh" aria-selected="false">
										  <h3>Playable Blockmesh</h3>
									  </button>
									</li>
									<li class="nav-item" role="presentation">
									  <button class="nav-link" id="pills-links-tab" data-bs-toggle="pill" data-bs-target="#pills-links" type="button" role="tab" aria-controls="pills-links" aria-selected="false">
										  <h3>Links and Video</h3>
									  </button>
									</li>
								  </ul>

								  <div class="tab-content" id="pills-tabContent">
									  <!-- 2d map process text -->
									<div class="tab-pane fade show active" id="pills-process" role="tabpanel" aria-labelledby="pills-process-tab">
										<header>
											<h2>Desiging the 2D map</h2>
											<p>The following text focuses on the design process for the 2D map. If you'd just like to see the end result click <a target="_blank" href="pdfs/2DMAP_MissionBrief.pdf">here</a></p>
										</header>
										<p>All designs start somewhere and to me, it started by defining, in very broad terms, what the three main objectives were. 
											My mind went to other Stealth Games that I've played in the past (a genre I love) and to games like Hitman. In that game, 
											assassinating a target is the focus of an entire level. The player is guided by this larger goal (reach the target) and is constantly working on smaller goals (infiltrate the kitchen, get past the checkpoint, etc)</p>
										<p>I also wanted the level to be open-ended in regards to how the player progresses through it. 
											So I didn't want one objective to gate the other. Rather I aimed for a design in which the player would be free to choose the path that they wanted.</p>
										<div class="row">
											<div class="col-6 col-12-small">
												<div class="image main"><img src="images/Early_Sketches.jpeg" alt="Early Mission Sketches" /></div>
											</div>
											<div class="col-6 col-12-small">
												<p>I ended up drawing in a notebook a lot. Most of these drawings were just ways to help me think, and don't really make sense anymore but they were useful for the process.</p>
											</div>
										</div>
										<!-- Goals and Narrative -->
										<h3>Goals and narrative</h3>
										<p>In the end, I opted for these three objectives:</p>
										<ul>
											<li>Plant a virus on a Security Server</li>
											<li>Steal compromising Documents</li>
											<li>Assassinate an Evil Guy</li>	
										</ul>
										<p>For these objectives, I aimed for something generic enough that I could fill in the blanks later but that would also give me hints about the setting and atmosphere. 
											Plant a virus? This suggests that the player might be some type of agent with access to advanced knowledge of computers.
											Steal documents? To me this implies corruption, and that the target might not be the only villain in the story and helps the level seem like a part of a larger narrative. 
											Assassinate Evil Guy? So now we have a villain, and we have to figure out who they are and why they need to die.
										</p>
										<p>The narrative arc for the level would be of an evil Businessman called Johan Peters. 
											He operates illegal diamond mines in South Africa using Slave Labour. 
											Recently he build a luxury compound in the Norwegian Fjords which he uses as a base of operations.
											The goal of the agent is not only to eliminate Johan but to cripple his operations and discover who is working with him. 
											The new compound gives the player an opportunity as not all security elements have been built yet.
										</p>
										<!-- The Space -->
										<h3>The space</h3>
										<p>After outlining the narrative path and the goals, I started doodling the space. 
											The narrative and setting made me drift toward a scenario with multiple buildings and open areas that the player will need to traverse (The Norwegian Fjords are not known for their skyscrapers).
											I looked for reference images of the Fjords and also Norwegian Contemporary architecture for inspiration. 
											It was at this moment that I imagined it would be good to add contrast between Johan's modernized buildings and an older Hunting Lodge.
											The story for this is that Johan pressured locals into leaving the area so he could move in, the remnants of one old house were eventually used by another agent that was doing reconnaissance work in the compound. 
											Ruins tend to add a lot of flavor to environmental storytelling as they imply the presence of History on the level.
										</p>
										<p>I opted for two Major Buildings in which the main goals of the level would be. 
											The main house, where Johan Lives and keeps his secret documents, and a security lodge, where the player can find the server. 
											These will be opposite to each other on the level.
											I also added some mountains to generate some good vantage points. 
											The player would start on one of them and be able to choose which building they would go to next. 
											Other than that I also designed the old hunting lodge, some watchtowers for guards, and a contemporary boathouse.
										</p>
										<p>The end result was this map:</p>
										<div class="image main"><img src="images/2D_map_full.jpg" alt="Full Mission 2D map with legend" /></div>
										<p>I also thought about how different playstyles could move around the level and complete the objectives. Below is a generic walkthrough map but I also provided some zoomed-in maps with more detailed beats.</p>
										<div class="image main"><img src="images/General_Walkthrough.jpg" alt="Full Mission 2D map" /></div>
										<p>As with all design processes, this was a very iterative one. 
											I like to describe this as a spiral process in which I transitioned between looking at the map as a whole, then looking at smaller portions of it like the buildings, the small corner encounters, how they interacted, etc.
										</p>
										<p>As elements started to get more and more defined in the 2D drawings, I realized that the process was near its saturation. 
											I would need to start putting things in 3D space and testing them in the engine to really visualize the results of my design.
										</p>
									</div>

									<!-- Playable Blockmesh text -->
									<div class="tab-pane fade" id="pills-blockmesh" role="tabpanel" aria-labelledby="pills-blockmesh-tab">
										<header>
											<h2 id="playablemesh">Implementing In UE5</h2>
											<p>Below is a description of the process to implement the playable blockmesh. If you're interested in the full changelist between 2D map and Blockmesh click <a target="_blank" href="pdfs/Full_Changelist.pdf">here</a></p>
										</header>
										<p>
											After finishing up the 2D map I started by assembling the playable blockmesh in Unreal 5 based on a package provided by Ubisoft. 
											The package contained blueprints for gameplay as well as AI Actors. At this stage new limitations were added to the project:
										</p>
										<ul>
											<li>There should be a maximum of 12 AI agents on the map during gameplay</li>
											<li>A maximum of 64 meters x 64 meters for the Objective space</li>
											<li>Some blueprints present had bugs or did not function perfectly. We were encouraged to debug them though it was not mandatory</li>
										</ul>
										<p>
											Obviously, changes had to be made to the original design to accommodate those limitations, but they were not the only ones. 
											Several improvements to the layout were implemented thanks to the constant playtesting and iterative nature of this process. Some of those were:
										</p>
										<ul>
											<li>Added more cover with more clear pathing for the player.</li>
											<li>Adopted a more 360-degree approach to the map, so more paths were added and the player has more freedom to choose how they want to engage.</li>
											<li>Took advantage of the Laser Trap mechanic to create interesting scenarios with the Limited AI.</li>
											<li>Overall, the open space was diminished to make it more interesting and focused.</li>
											<li>I added a "Radio Tower" building on the empty mountain. This way I could have a landmark for the player.</li>
										</ul>
										<!-- The importance of the Start -->
										<h3>The importance of the start</h3>
										<p>
											When we are designing a level or a gameplay element, it is easy to forget that the player does not know any of our thought processes and that we won't be there to explain anything to them. 
											We have to use the first moments of gameplay to teach things to them. This may be obvious to more experienced designers, but it was something that I reinforced while implementing the level in the engine.
										</p>
										<p>
											On my 2D map, I had a very large open area where the player started, with some guards directly in front of them. 
											In the engine, that proved to be too open-ended and the player might feel lost.
										</p>
										<p>
											This was one of my first learning opportunities with this project. 
											At first, I was afraid of creating narrow corridors and situations that felt too obvious, but those are often a very good addition at the start of a level. 
											Similar to a cold opening of a TV show that tries to hook the audience, those first few seconds of gameplay are crucial and I couldn't afford to lose the player by being mysterious with what I wanted them to do.
											I had to figure out what I need to show to the player at first and how to show it. Those were two simple things.
										</p>
										<ul>
											<li>I needed them to view and understand the level goals.</li>
											<li>I wanted them to view the first vantage point, and get a feel for what challenges lie ahead of them.</li>
										</ul>
										<p>There was also a "wow" factor that I wanted the player to have when they first entered the level. 
											This is a small trick that I learned from architecture school, if you make the viewer (in this case the player) go through a narrow space and then arrive at an open space, the open space will be more impactful.
											Louis Kahn's Yale Center for British Art in New Hampshire is an example of this. The entrance is a small nook on the corner of this massively rectangular building, but once you enter you encounter a large lobby with a beautiful skylight at the top. The impact of the lobby is delivered by the narrowness of the entrance.
										</p>
										<div class="image main">
											<img src="images/Louis_Khan_building.jpg" alt="Yale Center for British Art Building" />
											<p> <i>Louis Kahn's Yale Center for British Art. The entrance is in the corner of the building</i> </p>
										</div>
										<div class="image main">
											<img src="images/Louis_Khan_Lobby.jpg" alt="Yale Center for British Art Lobby" />
											<p> <i>The lobby of the building, with it's beautiful skylight, has it's grandeur enhanced because the user went throught the small entrance.</i> </p>
										</div>
										<p>I may not be Louis Kahn, but I can learn from him and apply it to game design. I started by losing my fear of corridors and making it very obvious to the player where they should head on first.
											The player will start in a "corridor" created by the landscape itself. Right in front of them is the first object "Read Mission Brief". This gives the backstory and the other mission goals for the player.
											In a full game, those could be delivered prior to the level, or via cutscene. In this scenario this could also be a dead drop that the player has to retrieve to understand what they are doing, which adds to the secrecy of it all.
										</p>
										<div class="image main">
											<img src="images/First_screen.png" alt="First screen of the entire level" />
											<p> <i>What the player sees when they start the level. Just a straight path</i> </p>
										</div>
										<p>
											Right after completing the first objective, the player can see their first Vantage Point which shows the Main House, the location of both Johan Peters, and the Secret Documents. 
											Cameras, lights, and patrol paths are visible from this point, giving the player a taste of what they're about to face.
										</p>
										<div class="image main">
											<img src="images/First_Vantage_Point.png" alt="First screen of the entire level" />
											<p> <i>The vantage Point of the main House, which shows the player the challenges that they will face.</i> </p>
										</div>
		
										<h3>Laser Traps, a helpful aid for the AI</h3>
		
										<p>The AI for the blockmesh was limited. They could kill the player with only one hit, but they had only a melee attack and there was a limit of 12 for the entire level. 
											The player can disable them by pressing E behind their backs only with a melee attack as well. This was a tricky situation to get around due to the nature of stealth games. 
											One AI can prove to be very very simple for the player to get around, but two guards patrolling the same area is a very large jump in difficulty.
										</p>
										<p>
											This happens because of the fantasy that stealth games sell. The player wants to feel cool by not being detected and evading guards or taking them out silently, 
											if it was a simple FPS, adding just one additional guard would not be such a large increase in difficulty because the goal is to defeat as many enemies as possible in that scenario.
										</p>
										<p>
											We were provided with a Laser Trap from Ubisoft, which triggers an alarm once the player moves through it. 
											This provided an interesting scenario because it creates a "wall" that the AI can go through, but the player can't.
										</p>
										<p>
											The traps, however, didn't work exactly the way that I wanted, or rather, I could make some simple changes and set them up in a way to make them more interesting.
											As they were, they could be connected to a Power Breaker or an Alarm Box. If one of those got turned off, the laser trap would also be turned off.
											Another characteristic is that once the alarm was set by the laser trap, the guards would go into a panic mode and start searching for the player, but not near the trap.
										</p>
										<p>
											I applied the following changes to the trap:
										</p>
										<ul>
											<li>Once triggered, the trap will broadcast its location to guards assigned to it</li>
											<li>A guard that receives this broadcast will run to the trap and attack the player on sight</li>
											<li>If the player is not visible, the guard will look for them in the area before resuming their patrol</li>
										</ul>
										<p>
											I also noticed that, while you can connect the traps to a power breaker, you don't have to. 
											This created laser traps that the player would have no way of turning off.
											This might be a problem if overused but it also provided an interesting encounter idea.
											I created the concept of a "mobile laser trap" a new security feature that was being implemented by Johan's security team. 
											Once fully set up, they would run on independent power sources and the player would have no way of turning them off.
											Creating this was a simple matter of organizing and implementing the elements that were already given to us in a specific way. 
											I also created this small encounter to teach this concept to the player.
										</p>
										<div class="image main">
											<img src="images/laser_trap_01.png" alt="First Laser Trap" />
											<p> <i>A simple laser encounter with a not fully set up mobile laser trap.</i> </p>
										</div>
										<p>
											In the image above, there is a mobile laser trap that was not fully set up, so its power source is open. 
											A document has in-game text written explaining the setup. 
											The narrative for this is that one guard received this trap and was in the process of setting it up, but left it incomplete.
											There is a piece of cover right after the laser for the player to hide in case they trigger the alarm anyway and the guard comes running to investigate.
										</p>
										<p>
											After that, I used the mobile laser trap to enhance a patrol path that had just one guard on it. 
											I was able to create a moment of high intensity using just one AI and placing the laser traps to interrupt the player&apos;s path along the guard&apos;s patrol area.
										</p>
										<div class="image main">
											<img src="images/laser_trap_02.png" alt="Laser trap encounter with extra lasers and one guard" />
											<p> <i>Guard path is in yellow, with the player path in blue and the laser traps are the red lines.</i> </p>
										</div>
										<div class="image main">
											<img src="images/laser_trap_02_hiding.png" alt="Laser trap encounter with extra lasers and one guard" />
											<p> <i>Hiding from the guard patrolling the area.</i> </p>
										</div>
		
										<h3>The end result for the map:</h3>
		
										<div class="image main"><img src="images/In_Engine_map.jpg" alt="How the map looks in engine" /></div>
										<div class="image main"><img src="images/Map_Snapshot.png" alt="How the map looks in engine" /></div>
										<p>
											Besides the layout changes, I also added a new end goal for the player. 
											After completing all objectives they must make their way to the boathouse to escape the area. 
											This also works in tandem with one special event that I added to the map.
										</p>
										<p>
											If the player eliminates some guards and triggers at least one alarm, then reinforcements will arrive at the end of the mission. 
											The number of AI will never exceed 12 and the maximum number of guards that can arrive to reinforce the area at the end is 5.
										</p>
										<h3>The debugging</h3>
										<p>
											Thorughout the playtest, I took the time to debug and, on occasion, fix certain issues found in the blueprints provided:
										</p>
										<ul>
											<li>Cameras were noticing the player even behind cover, so I added a line trace to check if there was something in front of the player before triggering an alarm.</li>
											<li>After one guard noticed the player, all AI would turn in the direction of the player in a cautious state. This was because some variables regarding player location where being shared among all AI instances.</li>
											<li>Several improvements to the Guard AI and how it handles player position and alarms. I even added the ability to "group" them via tags so all guards with the same tag can share the same status.</li>
										</ul>
										<p>A full list of blueprint and scripting changes is present in the  <a target="_blank" href="pdfs/Full_Changelist.pdf">Changelist Document</a></p>
									</div>
									<!-- Docs Links and Video -->
									<div class="tab-pane fade" id="pills-links" role="tabpanel" aria-labelledby="pills-links-tab">
										<div class="align-center">
											<h3>Video of the Golden Path for the Level</h3>
											<iframe width="951" height="535" src="https://www.youtube.com/embed/Bu4ScsLlb3o" title="Gabriel Carpes - Ubisoft NXT - Golden Path" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
										</div>
										<div class="align-center">
											<h5>
												<a target="_blank" href="https://www.youtube.com/watch?v=9cYt3OkSu-M">Ubsifot NXT 2022 Finalists</a>
											</h5>
										</div>

										<ul>
											<li> <a target="_blank" href="pdfs/2DMAP_MissionBrief.pdf">
													Full 2D map Mission Design Document
												</a>
											</li>
											<li>
												<a target="_blank" href="pdfs/Full_Changelist.pdf">
													Changelist between 2D map and Playable Blockmesh
												</a>
											</li>
											<li>
												<a target="_blank" href="https://drive.google.com/file/d/1ksXr337h06YLYTG2JeeRlBrCpr1YGbfU/view?usp=sharing">
													Download and play the Blockmesh
												</a>
											</li>
										</ul>

									</div>
								  </div>
								<header>
							</section>
					</div>

				<!-- Footer -->
				<footer id="footer">
					<section class="split contact">
						<section>
							<h3>Phone</h3>
							<p><a href="#">(647) 562-3924</a></p>
						</section>
					</section>
					<section class="split contact">
						<section>
							<h3>Email</h3>
							<p><a href="#">gabriellcarpes@gmail.com</a></p>
						</section>
					</section>
				</footer>

				<!-- Copyright -->
				<div id="copyright">
					<ul><li>&copy; Gabriel Luz Carpes - Level Design for Ubi NXT 2021</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li></ul>
				</div>
			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

	</body>
</html>